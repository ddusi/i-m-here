{"ast":null,"code":"/*global kakao*/\n\"use strict\";\n\nvar _jsxFileName = \"/Users/kimminsung/im-here/src/Map.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport imhere from \"./assets/hw-icon_kakaoapi.png\";\nimport axios from \"axios\";\nimport Share from \"./Share\";\nimport \"./assets/Location.css\";\nimport back_icon from \"./assets/hw-icon_back@2x.png\";\nimport refresh_icon from \"./assets/hw-icon_refresh@2x.png\";\nimport img_112 from \"./assets/hw-img_112.png\";\nimport img_119 from \"./assets/hw-img_119.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Map = () => {\n  _s();\n\n  const [status, setStatus] = useState(null);\n  const [isloading, setIsLoading] = useState(false);\n  const [mymap, setMyMap] = useState([]);\n  const resetRef = useRef(null);\n  useEffect(() => {\n    kakaoMap();\n    onLocation();\n    return () => {\n      console.log(\"컴포넌트가 사라짐.\");\n    };\n  }, []);\n\n  const kakaoMap = () => {\n    //지도를 담은 maps\n    let maps = document.getElementById(\"map\"); //지도 option 설정\n\n    let options = {\n      center: new kakao.maps.LatLng(33.450701, 126.570667),\n      level: 2\n    }; //지도 생성\n\n    resetRef.current = new kakao.maps.Map(maps, options);\n  }; // eslint-disable-next-line\n\n\n  const getLocation = async () => {\n    if (!navigator.geolocation) {\n      setStatus(\"현재 브라우저에서 위치 정보가 지원되지 않습니다.\");\n      return;\n    }\n\n    const position = await new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(resolve, reject);\n    });\n    setStatus(\"입니다!\");\n    return {\n      lon: position.coords.longitude,\n      lat: position.coords.latitude\n    };\n  }; //좌표 위치대로 지도 변경\n\n\n  const displayLoc = (lat, lon) => {\n    const locPosition = new kakao.maps.LatLng(lat, lon); //마커 이미지\n\n    let imageSrc = `${imhere}`,\n        imageSize = new kakao.maps.Size(120, 90),\n        imageOption = {\n      offset: new kakao.maps.Point(27, 100)\n    };\n    const markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption),\n          markerPosition = new kakao.maps.LatLng(lat, lon);\n    let marker = new kakao.maps.Marker({\n      position: markerPosition,\n      image: markerImage\n    });\n    resetRef.current.setCenter(locPosition);\n    marker.setMap(resetRef.current);\n  }; //위치 찾기 버튼\n\n\n  const onLocation = async () => {\n    let {\n      lat,\n      lon\n    } = await getLocation();\n    displayLoc(lat, lon);\n    const response = await axios.get(`https://api.iam-here.site/location?x=${lon}&y=${lat}`);\n    setMyMap(response.data.data);\n    setIsLoading(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Background, {\n      children: [/*#__PURE__*/_jsxDEV(Content, {\n        children: [/*#__PURE__*/_jsxDEV(Icon, {\n          src: back_icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Address, {\n          children: [mymap.roadAddress, \" / \", mymap.w3w]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Icon, {\n          src: refresh_icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Maps, {\n        id: \"map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"100\",\n          height: \"5\",\n          style: {\n            backgroundColor: \"#EBEBEB\",\n            borderRadius: 25\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Report_list, {\n          children: \"\\uC2E0\\uACE0 \\uB3C4\\uCC29\\uC9C0 \\uBAA9\\uB85D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Report_txt, {\n          children: \"\\uBCF5\\uC0AC \\uBC84\\uD2BC\\uC744 \\uB204\\uB974\\uBA74 \\uBB38\\uC790 \\uBCF4\\uB0B4\\uAE30 \\uC804 \\uC0C1\\uD0DC\\uB85C \\uBCF4\\uB0B4\\uC9D1\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Report_section, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: img_119\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Report_num, {\n              children: \"119\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Report_ex, {\n              children: \"\\uAE34\\uAE09 \\uAC01\\uC885 \\uC7AC\\uB09C - \\uAD6C\\uC870 \\uC2E0\\uACE0\\uCC98\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Report_button, {\n            children: \"\\uBB38\\uC790 \\uBCF4\\uB0B4\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Report_section, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: img_112\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Report_num, {\n              children: \"112\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Report_ex, {\n              children: \"\\uAE34\\uAE09 \\uAC01\\uC885 \\uBC94\\uC8C4 \\uC2E0\\uACE0\\uCC98\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Report_button, {\n            children: \"\\uBB38\\uC790 \\uBCF4\\uB0B4\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Report_section, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), isloading && /*#__PURE__*/_jsxDEV(Share, {\n          mymap: mymap\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Map, \"QIkPcHUz1bTAfYVxikdxHH+eWzk=\");\n\n_c = Map;\nconst Background = styled.div`\n  border-radius: 30px;\n  box-shadow: 3px 3px 15px #e6e6e6;\n  position: absolute;\n  top: 200px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 431px;\n  height: 896px;\n  border: 1px solid black;\n  overflow: hidden;\n`;\n_c2 = Background;\nconst Content = styled.span`\n  display: grid;\n  align-items: center;\n  grid-template-columns: 1fr 5fr 1fr;\n  margin: 10px;\n  background: white;\n  border-radius: 35px;\n  width: 410px;\n  height: 50px;\n  text-align: center;\n  box-shadow: 3px 3px 15px #00000029;\n`;\n_c3 = Content;\nconst Address = styled.span`\n  align-items: center;\n`;\n_c4 = Address;\nconst Icon = styled.img`\n  width: 35px;\n  margin: 5px;\n`;\n_c5 = Icon;\nconst Maps = styled.div`\n  width: 431px;\n  height: 896px;\n  position: absolute;\n  z-index: -1;\n  left: 0px;\n  top: 0;\n  border-radius: 25px;\n`;\n_c6 = Maps;\nconst List = styled.div`\n  background: white;\n  border-radius: 20px 20px 0 0;\n  width: 431px;\n  height: 420px;\n  position: absolute;\n\n  top: 480px;\n  color: black;\n  z-index: 2;\n`;\n_c7 = List;\nconst Report_list = styled.h3`\n  font-size: 24px;\n  margin-top: 53px;\n  margin-left: 20px;\n  margin-bottom: 0px;\n`;\n_c8 = Report_list;\nconst Report_section = styled.div`\n  display: flex;\n  margin-top: 23px;\n  margin-bottom: 0px;\n  align-items: center;\n`;\n_c9 = Report_section;\nconst Report_txt = styled.span`\n  font-size: 13px;\n  color: #000000;\n  opacity: 0.5;\n  margin-top: 0;\n  margin-left: 20px;\n`;\n_c10 = Report_txt;\nconst Report_num = styled.h3`\n  margin: 0px;\n  margin-left: 10px;\n`;\n_c11 = Report_num;\nconst Report_ex = styled.p`\n  margin-top: 0px;\n  margin-left: 10px;\n  font-size: 12px;\n  opacity: 50%;\n`;\n_c12 = Report_ex;\nconst Report_button = styled.button`\n  width: 100px;\n  height: 30px;\n  border-radius: 20px;\n  margin-left: 30px;\n  color: white;\n  background: black;\n  align-items: center;\n  margin-left: auto;\n  margin-right: 20px;\n`;\n_c13 = Report_button;\nexport default Map;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13;\n\n$RefreshReg$(_c, \"Map\");\n$RefreshReg$(_c2, \"Background\");\n$RefreshReg$(_c3, \"Content\");\n$RefreshReg$(_c4, \"Address\");\n$RefreshReg$(_c5, \"Icon\");\n$RefreshReg$(_c6, \"Maps\");\n$RefreshReg$(_c7, \"List\");\n$RefreshReg$(_c8, \"Report_list\");\n$RefreshReg$(_c9, \"Report_section\");\n$RefreshReg$(_c10, \"Report_txt\");\n$RefreshReg$(_c11, \"Report_num\");\n$RefreshReg$(_c12, \"Report_ex\");\n$RefreshReg$(_c13, \"Report_button\");","map":{"version":3,"sources":["/Users/kimminsung/im-here/src/Map.js"],"names":["React","useEffect","useRef","useState","styled","imhere","axios","Share","back_icon","refresh_icon","img_112","img_119","Map","status","setStatus","isloading","setIsLoading","mymap","setMyMap","resetRef","kakaoMap","onLocation","console","log","maps","document","getElementById","options","center","kakao","LatLng","level","current","getLocation","navigator","geolocation","position","Promise","resolve","reject","getCurrentPosition","lon","coords","longitude","lat","latitude","displayLoc","locPosition","imageSrc","imageSize","Size","imageOption","offset","Point","markerImage","MarkerImage","markerPosition","marker","Marker","image","setCenter","setMap","response","get","data","roadAddress","w3w","backgroundColor","borderRadius","Background","div","Content","span","Address","Icon","img","Maps","List","Report_list","h3","Report_section","Report_txt","Report_num","Report_ex","p","Report_button","button"],"mappings":"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","sourcesContent":["/*global kakao*/\n\n\"use strict\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport imhere from \"./assets/hw-icon_kakaoapi.png\";\nimport axios from \"axios\";\nimport Share from \"./Share\";\nimport \"./assets/Location.css\";\nimport back_icon from \"./assets/hw-icon_back@2x.png\";\nimport refresh_icon from \"./assets/hw-icon_refresh@2x.png\";\nimport img_112 from \"./assets/hw-img_112.png\";\nimport img_119 from \"./assets/hw-img_119.png\";\n\nconst Map = () => {\n  const [status, setStatus] = useState(null);\n  const [isloading, setIsLoading] = useState(false);\n  const [mymap, setMyMap] = useState([]);\n  const resetRef = useRef(null);\n\n  useEffect(() => {\n    kakaoMap();\n    onLocation();\n\n    return () => {\n      console.log(\"컴포넌트가 사라짐.\");\n    };\n  }, []);\n\n  const kakaoMap = () => {\n    //지도를 담은 maps\n    let maps = document.getElementById(\"map\");\n\n    //지도 option 설정\n    let options = {\n      center: new kakao.maps.LatLng(33.450701, 126.570667),\n      level: 2,\n    };\n\n    //지도 생성\n    resetRef.current = new kakao.maps.Map(maps, options);\n  };\n\n  // eslint-disable-next-line\n  const getLocation = async () => {\n    if (!navigator.geolocation) {\n      setStatus(\"현재 브라우저에서 위치 정보가 지원되지 않습니다.\");\n      return;\n    }\n    const position = await new Promise((resolve, reject) => {\n      navigator.geolocation.getCurrentPosition(resolve, reject);\n    });\n\n    setStatus(\"입니다!\");\n    return {\n      lon: position.coords.longitude,\n      lat: position.coords.latitude,\n    };\n  };\n\n  //좌표 위치대로 지도 변경\n  const displayLoc = (lat, lon) => {\n    const locPosition = new kakao.maps.LatLng(lat, lon);\n\n    //마커 이미지\n    let imageSrc = `${imhere}`,\n      imageSize = new kakao.maps.Size(120, 90),\n      imageOption = { offset: new kakao.maps.Point(27, 100) };\n\n    const markerImage = new kakao.maps.MarkerImage(\n        imageSrc,\n        imageSize,\n        imageOption\n      ),\n      markerPosition = new kakao.maps.LatLng(lat, lon);\n\n    let marker = new kakao.maps.Marker({\n      position: markerPosition,\n      image: markerImage,\n    });\n    resetRef.current.setCenter(locPosition);\n    marker.setMap(resetRef.current);\n  };\n\n  //위치 찾기 버튼\n  const onLocation = async () => {\n    let { lat, lon } = await getLocation();\n    displayLoc(lat, lon);\n\n    const response = await axios.get(\n      `https://api.iam-here.site/location?x=${lon}&y=${lat}`\n    );\n    setMyMap(response.data.data);\n    setIsLoading(true);\n  };\n\n  return (\n    <>\n      <Background>\n        <Content>\n          <Icon src={back_icon} />\n          <Address>\n            {mymap.roadAddress} / {mymap.w3w}\n          </Address>\n          <Icon src={refresh_icon} />\n        </Content>\n        <Maps id=\"map\" />\n        <List>\n          <svg\n            width=\"100\"\n            height=\"5\"\n            style={{ backgroundColor: \"#EBEBEB\", borderRadius: 25 }}\n          />\n          <Report_list>신고 도착지 목록</Report_list>\n          <Report_txt>\n            복사 버튼을 누르면 문자 보내기 전 상태로 보내집니다.\n          </Report_txt>\n          <Report_section>\n            <img src={img_119} />\n            <div>\n              <Report_num>119</Report_num>\n              <Report_ex>긴급 각종 재난 - 구조 신고처</Report_ex>\n            </div>\n            <Report_button>문자 보내기</Report_button>\n          </Report_section>\n          <Report_section>\n            <img src={img_112} />\n            <div>\n              <Report_num>112</Report_num>\n              <Report_ex>긴급 각종 범죄 신고처</Report_ex>\n            </div>\n            <Report_button>문자 보내기</Report_button>\n          </Report_section>\n          <Report_section></Report_section>\n          {isloading && <Share mymap={mymap} />}\n        </List>\n      </Background>\n    </>\n  );\n};\n\nconst Background = styled.div`\n  border-radius: 30px;\n  box-shadow: 3px 3px 15px #e6e6e6;\n  position: absolute;\n  top: 200px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 431px;\n  height: 896px;\n  border: 1px solid black;\n  overflow: hidden;\n`;\n\nconst Content = styled.span`\n  display: grid;\n  align-items: center;\n  grid-template-columns: 1fr 5fr 1fr;\n  margin: 10px;\n  background: white;\n  border-radius: 35px;\n  width: 410px;\n  height: 50px;\n  text-align: center;\n  box-shadow: 3px 3px 15px #00000029;\n`;\n\nconst Address = styled.span`\n  align-items: center;\n`;\n\nconst Icon = styled.img`\n  width: 35px;\n  margin: 5px;\n`;\nconst Maps = styled.div`\n  width: 431px;\n  height: 896px;\n  position: absolute;\n  z-index: -1;\n  left: 0px;\n  top: 0;\n  border-radius: 25px;\n`;\n\nconst List = styled.div`\n  background: white;\n  border-radius: 20px 20px 0 0;\n  width: 431px;\n  height: 420px;\n  position: absolute;\n\n  top: 480px;\n  color: black;\n  z-index: 2;\n`;\n\nconst Report_list = styled.h3`\n  font-size: 24px;\n  margin-top: 53px;\n  margin-left: 20px;\n  margin-bottom: 0px;\n`;\n\nconst Report_section = styled.div`\n  display: flex;\n  margin-top: 23px;\n  margin-bottom: 0px;\n  align-items: center;\n`;\nconst Report_txt = styled.span`\n  font-size: 13px;\n  color: #000000;\n  opacity: 0.5;\n  margin-top: 0;\n  margin-left: 20px;\n`;\n\nconst Report_num = styled.h3`\n  margin: 0px;\n  margin-left: 10px;\n`;\n\nconst Report_ex = styled.p`\n  margin-top: 0px;\n  margin-left: 10px;\n  font-size: 12px;\n  opacity: 50%;\n`;\n\nconst Report_button = styled.button`\n  width: 100px;\n  height: 30px;\n  border-radius: 20px;\n  margin-left: 30px;\n  color: white;\n  background: black;\n  align-items: center;\n  margin-left: auto;\n  margin-right: 20px;\n`;\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}